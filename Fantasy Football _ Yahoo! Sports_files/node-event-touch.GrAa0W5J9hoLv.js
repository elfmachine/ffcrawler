
YUI.add("ysf-xhr",function(Y){var XHR_proto,XHR_static;function YSFXHR(config){YSFXHR.superclass.constructor.apply(this,arguments);}
YSFXHR.NAME="xhr";YSFXHR.ATTRS={"autoRegister":{"value":true},"isRegistered":{"value":false},"eventType":{"value":"click","valueFn":function(){if(this.get("form")){return"submit";}}},"form":{"value":null},"el":{"value":null},"callbackObj":{"value":{"success":function(cId,response){Y.log("Connection "+cId+": success","info","Y.Fantasy.XHR");},"failure":function(cId,response){Y.log("Connection "+cId+": failure","error","Y.Fantasy.XHR");}}},"triggers":{"value":[],"setter":function(triggers,fullname){var triggersAr=[];if(Y.Lang.isArray(triggers)||triggers instanceof Y.NodeList){Y.each(triggers,function(thisTrigger){var triggerNode=Y.one(thisTrigger);if(triggerNode){triggersAr.push(triggerNode);}});}
else{if(triggers===Y){triggersAr.push(triggers);}
else{triggersAr.push(Y.one(triggers));}}
return triggersAr;}},"triggerDelegate":{value:null},"triggerHandler":{"value":function(e,obj){var connection;try{if(obj.get("form")){connection=obj.submit(this);}
else{connection=obj.fetch(this);}
if(connection){e.preventDefault();}}catch(err){Y.log(err);}}},"activeConnection":{value:null},"lastHash":{value:null}};XHR_proto={initializer:function(cfg){if(this.get("autoRegister")){this.register();}},destructor:function(){this.detachTriggers();},detachTriggers:function(){var triggers=this.get("triggers");Y.Array.each(triggers,function(trigger){trigger.detach("ysfxhr|*");});},register:function(){if(this.get("form")){this.set("triggers",this.get("form"));}
var triggers=this.get("triggers"),delegate=this.get("triggerDelegate"),eventType=this.get("eventType"),eventTypes=Y.Lang.isArray(eventType)?eventType:[eventType],self=this;Y.Array.each(eventTypes,function(evt){Y.Array.each(triggers,function(trigger){if(Y.Lang.isString(delegate)){trigger.delegate("ysfxhr|"+evt,self.get("triggerHandler"),delegate,null,self);}
else{trigger.on("ysfxhr|"+evt,self.get("triggerHandler"),null,self);}});});this.set("isRegistered",true);},parseResponse:function(cId,resp){var obj=null;if(resp.responseText){try{obj=Y.JSON.parse(resp.responseText);this.checkForErrors(cId,obj);obj.contentIsNew=this.checkContentHash(cId,obj);}
catch(e){Y.log("Error parsing ajax","error","ysf-xhr");Y.log(e);if(Y.Af&&Y.Af.Beacon){Y.Af.Beacon.error('ysf-xhr',{'connection':cId},{code:'parseError',message:'error parsing XHR JSON response'});}}}
return obj;},_errorMap:{},hasErrors:function(cId){return this._errorMap[cId].hasErrors||false;},getErrors:function(cId){var errors=null;if(this.hasErrors(cId)){errors=this._errorMap[cId].errors;}
return errors;},checkForErrors:function(cId,obj){var errorRef={"hasErrors":false,"errors":[]},x;this._errorMap[cId]=errorRef;if(obj&&Y.Lang.isArray(obj.errors)&&obj.errors.length){for(x=0;x<obj.errors.length;x+=1){if(obj.errors[x].code){errorRef.hasErrors=true;errorRef.errors.push(obj.errors[x]);}}}
return errorRef;},checkContentHash:function(cId,obj){var oldHash=this.get("lastHash"),newHash=obj.hash,canCompare=true,updateHash=true;if(!Y.Lang.isString(oldHash)||oldHash===""){canCompare=false;}
if(canCompare&&(!Y.Lang.isString(newHash)||newHash==="")){canCompare=false;updateHash=false;}
if(updateHash){this.set("lastHash",newHash);}
return canCompare?oldHash!==newHash:true;},fetch:function(el,href,sync){var self=this,connection,fetchHref=Y.Lang.isString(href)?href:el.getAttribute("href"),cfg={};if(el){el.addClass("loading");}
if(sync){cfg.sync=true;}
connection=Y.Fantasy.XHR.fetchFromAjaxWithCfg(cfg,fetchHref,this.get("callbackObj"),el,self,true);this.set("activeConnection",connection);return connection;},submit:function(form){var self=this,connection;connection=Y.Fantasy.XHR.submitToAjax(form,this.get("callbackObj"),null,self);this.set("activeConnection",connection);return connection;}};XHR_static={transactionMap:[],addTransaction:function(connection,el){var n=el?Y.one(el):null;Y.Fantasy.XHR.transactionMap[connection.id]=n;},getTransaction:function(connection){var cId=Y.Lang.isObject(connection)?connection.id:connection;return Y.Fantasy.XHR.transactionMap[cId];},fetchFromAjaxWithCfg:function(cfg,href,callback,triggerEl,context,asGet){var XHRMethod=asGet?"GET":"POST",base,query,queryobj,hrefFrags,queryAr,connection,x,io_cfg=Y.Lang.isObject(cfg)?cfg:{};io_cfg.headers=io_cfg.headers||{};io_cfg.headers["Ajax-Request"]="true";try{if(XHRMethod==="GET"){base=href.replace(/(\#.*)$/,"");query=null;base+=(/\?/.test(base))?"&":"?";base+="ajaxrequest=1";}
else{hrefFrags=href.split("?");base=hrefFrags[0];query=null;if(hrefFrags.length>1){queryAr=[];for(x=1;x<hrefFrags.length;x+=1){queryAr[queryAr.length]=hrefFrags[x];}
query=queryAr.join(encodeURIComponent("?"));queryobj=Y.QueryString.parse(query);io_cfg.data=io_cfg.data||{};io_cfg.data=Y.QueryString.stringify(Y.merge(io_cfg.data,queryobj),{arrayKey:true});}}
io_cfg.method=XHRMethod;io_cfg.on=callback;if(context){io_cfg.context=context;}
connection=Y.io(base,io_cfg);Y.Fantasy.XHR.addTransaction(connection,triggerEl);callback.connections=callback.connections||{};callback.connections[connection.id]=connection;if(triggerEl){callback.triggered=callback.triggered||{};callback.triggered[connection.id]=triggerEl;}
if(callback.onConnect&&typeof callback.onConnect==="function"){callback.onConnect(connection,href);}
return connection;}catch(e){Y.log(e,"error","fetchFromAjax");return false;}},fetchFromAjax:function(href,callback,triggerEl,context,asGet){return Y.Fantasy.XHR.fetchFromAjaxWithCfg(null,href,callback,triggerEl,context,asGet);},submitToAjax:function(formref,callback,validationFunc,context,triggerEl){var form=Y.one(formref),isValid=true,connection,io_cfg={"headers":{"Ajax-Request":"true"},"form":{"id":form},"method":"POST"};if(Y.Lang.isFunction(validationFunc)){isValid=validationFunc(form);}
if(isValid){try{io_cfg.on=callback;if(context){io_cfg.context=context;}
connection=Y.io(form.getAttribute("action"),io_cfg);callback.connections=callback.connections||{};callback.connections[connection.id]=connection;callback.submitted_forms=callback.submitted_forms||{};callback.submitted_forms[connection.id]=form;Y.Fantasy.XHR.addTransaction(connection,form);return connection;}
catch(e){Y.log(e,"error","submitToAjax");return false;}}
else{return false;}}};Y.extend(YSFXHR,Y.Base,XHR_proto,XHR_static);Y.namespace("Fantasy");Y.Fantasy.XHR=YSFXHR;},"0.2",{"requires":["io-base","io-form","base","node","json-parse","querystring-stringify-simple","querystring-parse-simple"]});YUI.add('ysf-watchlist',(function(){var WatchListClass=null;return function(Y){Y.namespace('Fantasy');if(WatchListClass===null){function Watchlist(cfg){if(Y.Fantasy.Watchlist._instance){return Y.Fantasy.Watchlist._instance;}
Watchlist.superclass.constructor.apply(this,arguments);Y.Fantasy.Watchlist._instance=this;}
Watchlist.NAME="watchlist";Watchlist.ATTRS={"callbackObj":{"value":{"success":function(tid,conn){var el,replacements,textStrings,rules,jsontext,jsonobj,x,y,objAr,curplayer,player_id,league_id,classname,url,elname,watchIcons,curIcon,img,connObj=conn?this.parseResponse(tid,conn):null;if(!Y.Lang.isObject(connObj)){if(conn.status===0||conn.statusText==="Unknown"){el=Y.Fantasy.XHR.getTransaction(tid)
url=el.getAttribute('href');window.location=url;}}
try{el=Y.Fantasy.XHR.getTransaction(tid);replacements={"class":["watchw","watchn"],"url":["addplayerwatch","deleteplayerswatch"],"param":["apid","dpids[]"]};textStrings={"watchn":{title:"Remove from Watch List",img:"https://s.yimg.com/lq/i/us/sp/fn/default/full/watching_2.gif",src:"&#xe023;"},"watchw":{title:"Add to Watch List",img:"https://s.yimg.com/lq/i/us/sp/fn/default/full/not_watching_2.gif",src:"&#xe061;"}};rules={"watchw":[0,1],"watchn":[1,0]};jsontext=conn.responseText;jsonobj=Y.JSON.parse(jsontext);objAr=jsonobj.objects;for(x in objAr){curplayer=objAr[x];player_id=curplayer.player_id;league_id=curplayer.league_id;classname=(curplayer.status==="watching")?"watchn":"watchw";url=curplayer.url.replace(/\&ajaxrequest(\[\])?=\d/g,"");elname="w-"+league_id+"-"+player_id;watchIcons=document.getElementsByName(elname);for(y=0;y<watchIcons.length;y+=1){curIcon=watchIcons[y];curIcon.className=curIcon.className.replace(/watchw[wn]/,classname);curIcon.href=url;img=curIcon.getElementsByTagName("img")[0];if(img!==undefined){img.src=textStrings[classname].img;img.title=textStrings[classname].title;img.alt=textStrings[classname].title;}else{curIcon.title=textStrings[classname].title;curIcon.innerHTML=textStrings[classname].src;}}}}
catch(err){Y.log(err);}},"failure":function(tid,conn){if(conn.status===1223){this.success(conn);return;}
el=Y.Fantasy.XHR.getTransaction(tid)
url=el.getAttribute('href');window.location=url;}}},"triggerHandler":{"value":function(e,obj){var pid,href,remUrl,linked;pid=this.getAttribute("name");href=this.getAttribute("href");remUrl=/\&?done=[^\&]+/g;href=href.replace(remUrl,'');linked=Y.Fantasy.XHR.fetchFromAjax(href,obj.get("callbackObj"),this,obj,false);if(linked){try{e.preventDefault();}
catch(err){e.preventDefault();return false;}}}}};Y.extend(Watchlist,Y.Fantasy.XHR,{"register":function(){if(!this.get("isRegistered")){this.set("isRegistered",true);Y.one("body").delegate("click",this.get("triggerHandler"),"a.watchw, a.watchn",null,this);}}},{"getInstance":function(){return Y.Fantasy.Watchlist._instance||new Y.Fantasy.Watchlist();},"_instance":null});WatchListClass=Watchlist;}
Y.Fantasy.Watchlist=WatchListClass;};})(),'0.1',{'requires':['ysf-xhr']});YUI.add('ysf-initlinks',function(Y){Y.namespace('Fantasy');Y.Fantasy.InitLinks={init:function(parent){if(!parent){parent=Y.one(document);}else{parent=Y.one(parent);}
var links=parent.all('a'),watchlinks=parent.all('.watch a');links.each(function(curlink){if(curlink.getAttribute('target')){if(!curlink.hasClass("playernote")){curlink.on('click',function(e){Y.Fantasy.InitLinks.launchLink(e);});}}
else if(curlink.get('className').indexOf('noaction')!=-1){curlink.on('click',function(e){e.preventDefault();Y.Fantasy.InitLinks.showNoActionPopup(e);});}});if(watchlinks){this.watchListObj=Y.Fantasy.Watchlist.getInstance();}},launchLink:function(p_oEvent){var oEvent=p_oEvent?p_oEvent:window.event;oEvent=oEvent||{};var keycode=null,width=null,height=null,target=oEvent.currentTarget.getAttribute('target'),top,left;if(target=='sports'){keycode=63;}
else if(target.indexOf('details')!=-1){width=400;height=600;var dimensions=target.split('-');if(dimensions[1]){var dimensions2=dimensions[1].split('x');width=dimensions2[0];height=dimensions2[1];target='details';}
keycode=11;}
else if(target.indexOf('ranker')!=-1){keycode='0';width=350;height=502;}
else if(target=='drafttest'){keycode=10;width=260;height=120;}
else if(target.indexOf('scenariogenerator')!=-1){keycode=11;width=960;height=720;}
else if(target=='stattrackerpre'){keycode=10;width=551;height=430;}
else if(target.indexOf('stattracker')!=-1){keycode=11;width=1180;height=770;}
else if(target.indexOf('mlbvideo')!=-1){keycode=11;width=900;height=700;}
else if(target.indexOf('nbavideo')!=-1){keycode=11;width=797;height=353;var screenX=(typeof window.screenX==="number")?window.screenX:window.screenLeft;var screenY=(typeof window.screenY==="number")?window.screenY:window.screenTop;if(typeof screenX==="number"&&window.outerWidth){left=((window.outerWidth/2)+screenX)-(width/2);top=((window.outerHeight/2)+screenY)-(height/2);}}
else if(target.indexOf('video')!=-1){keycode=11;width=793;height=666;}
if(keycode){if(oEvent.shiftKey||oEvent.ctrlKey||oEvent.metaKey){return true;}
oEvent.preventDefault();if(left&&top){var w=Y.Fantasy.InitLinks.yfaPopup(oEvent.currentTarget.getAttribute('href'),target,width,height,keycode,left,top);}
else{var w=Y.Fantasy.InitLinks.yfaPopup(oEvent.currentTarget.getAttribute('href'),target,width,height,keycode);}
if(w){w.focus();}
return false;}
else{return true;}},yfaPopup:function(u,n,w,h,k){var a=[],o=null,r=arguments,sep='';if(w&&h){a[0]="width="+w+",height="+h;sep=',';}
a[1]=sep+"scrollbars="+((k&1)?1:0);a[2]=",resizable="+((k&2)?1:0);a[3]=",toolbar="+((k&4)?1:0);a[4]=",status="+((k&8)?1:0);a[5]=",location="+((k&16)?1:0);a[6]=",menubar="+((k&32)?1:0);if(r.length>=6){a[7]=(document.layers)?",screenX="+r[5]:",left="+r[5];}
if(r.length>=7){a[8]=(document.layers)?",screenY="+r[6]:",top="+r[6];}
a=a.join("");o=open(u,n,a);if(o){o.focus();}
return o;},showNoActionPopup:function(e){var actionStrings=new Array();actionStrings['cc-cantcut']='This player is on the cant cut list and may not be dropped';actionStrings['dd-gameover']='You may not drop this player because the game is over';actionStrings['dd-predraft']='You may not drop this player because the draft for your league has not yet occurred';actionStrings['l-lockedtrades']='You may not perform a trade because the commissioner has locked your trade capabilities';actionStrings['nt-overmaxtrades']='You may not perform a trade becauses you are over your allowed number of trades';actionStrings['dt-gameover']='You may not perform a trade because the game is over';actionStrings['dt-predraft']='You may not perform a trade because the draft for your league has not yet occurred';actionStrings['dt-tradedeadlinepassed']='You may not perform a trade because the trade deadline for your league has passed';actionStrings['l-lockedadds']='You may not add this player because the commissioner has locked your add capabilities';actionStrings['na-overmaxmoves']='You may not add this player because you are over your allowed number of moves';actionStrings['da-gameover']='You may not add this player because the game is over';actionStrings['da-predraft']='You may not add this player because the draft for your league has not yet occurred';actionStrings['da-notinleague']='You may not add this player because you are not in this league';actionStrings['da-waiveroverdue']='You may not submit a waiver claim for this player after the waiver period has ended';actionStrings['w-nil']='You may not watch this player because you are not in this league';var container=Y.one('#noactions');var docBody=Y.one(document.body);if(!container){container=Y.Node.create('<div id="noactions" class="popupwrap"></div>');innercontainer=Y.Node.create('<div class="content"></div>');shadow=Y.Node.create('<div class="shadow"></div>');container.append(innercontainer);container.append(shadow);docBody.append(container);}
var action=e.currentTarget.get('className').split('noaction')[1].split(' ')[0];innercontainer.setHTML(actionStrings[action]+'<span>Click anywhere to close<\/span>');var width=container.get('offsetWidth');var pos=e.currentTarget.getXY();var elemLeft=pos[0]-width+7;var elemTop=pos[1]+7+'px';if(elemLeft<0){elemLeft='0';}
container.setStyle('left',elemLeft+'px');container.setStyle('top',elemTop);container.setStyle('visibility','visible');docBody.on('mousedown',Y.Fantasy.InitLinks.hideNoActionPopup);return false;},hideNoActionPopup:function(){var container=document.getElementById('noactions');container.style.left='-9000px';},watchListObj:null}},'',{'requires':['node','event','ysf-watchlist']});YUI.add('ysf-formenhancer',function(Y){Y.namespace("Fantasy");var FantasyFormEnhancer=function(){};FantasyFormEnhancer.prototype={initComplete:false,onInitComplete:new Y.CustomEvent("onInitComplete"),formEvtMap:{},_defSubmitFn:function(e,obj){if(e.form){e.form.submit();}},_defResetFn:function(){},_defButtonFn:function(){},valid_tabindex_els:{'A':true,'AREA':true,'BUTTON':true,'INPUT':true,'OBJECT':true,'SELECT':true,'TEXTAREA':true},init:function(){var i,forms,this_form,this_form_id,new_inputs={},new_id,ext;this.ext=(Y.one('.yst-all'))?'yfa':'ysf';forms=Y.all('form');this.publish("submit",{emitFacade:true,defaultFn:Y.bind(this._defSubmitFn,this)});this.publish("reset",{emitFacade:true,defaultFn:Y.bind(this._defResetFn,this)});this.publish("button",{emitFacade:true,defaultFn:Y.bind(this._defButtonFn,this)});forms.each(function(node){new_id=node.generateID();this.appendJSEnabledInput(node);new_inputs=this.enhanceFormCTAs(node);if(document.all){this.appendFormCTAInputs(new_inputs,node);}
if(node.hasClass(this.ext+'-form')){this.applyTabIndexes(node);}
Y.Fantasy.FantasyFormEnhancer.formEvtMap[node.get('id')]={"submit":{"subscribe":function(fn,ctx){Y.Fantasy.FantasyFormEnhancer.on("submit",Y.bind(function(e,obj){if(e.form.get("id")===this.get("id")){if(fn.call(ctx)===false){e.preventDefault();}}},node));}},"reset":new Y.CustomEvent("cancel"),"button":new Y.CustomEvent("button")};},this);this.postInit();},isTabIndexEl:function(el){if(Y.FantasyFormEnhancer.valid_tabindex_els[el.get('tagName').toUpperCase()]){return true;}
return false;},applyTabIndex:function(el){if(el.getAttribute('type')!=='hidden'&&(el.tabIndex===null||el.tabIndex===0)){el.tabIndex=0;}},applyTabIndexes:function(el){try{this.applyTabIndex(el);}catch(e){Y.log(e);}},postInit:function(){this.initComplete=true;Y.fire('onInitComplete:ready');},appendJSEnabledInput:function(elForm){if(elForm.hasClass(this.ext+'-form')){var new_input,form_id=elForm.get('id');new_input=Y.Node.create('<input>');new_input.setAttrs({'id':form_id+'-jsenabled','name':'jsenabled','value':'1','type':'hidden'});elForm.appendChild(new_input);}},enhanceFormCTAs:function(form){var i,new_anchor,cta_name,cta_value,cta_id,cta_class,new_inputs={},new_cta_obj={},elForm=Y.one(form),this_form_id=elForm.get('id'),ctas=Y.all('#'+this_form_id+' input.'+this.ext+'-cta');ctas.each(function(cta){var cta_name=this.enhanceFormCTAEl(cta,elForm);if(!new_inputs[cta_name]){new_inputs[cta_name]=cta_name;}},this);return new_inputs;},enhanceFormCTAEl:function(el,form){try{var cta_name=el.getAttribute('name'),cta_value=el.get('value'),cta_id=el.generateID(),cta_class=el.getAttribute('class'),cta_text=el.getAttribute('title')||cta_value,cta_type=el.getAttribute('type'),oCta={'cta_name':cta_name,'cta_value':cta_value,'cta_type':cta_type,'elForm':form},new_anchor;if(cta_type&&cta_type.toLowerCase()==="button"){if(el.hasClass(this.ext+"-cta-reset")){oCta.cta_type="reset";}}
new_anchor=this.generateCTAButton(cta_id,cta_class,cta_text);new_anchor.on('click',this.handleCTAClick,this,oCta);new_anchor.on('keyup',this.handleFormKeyup,this,oCta,new_anchor);el.get('parentNode').insertBefore(new_anchor,el);this.transformCTAInput(el,form);return cta_name;}
catch(e){Y.log(e);}},generateCTAButton:function(id,className,text){var new_anchor=Y.Node.create('<a>');new_anchor.setAttrs({'id':id,'className':className,'innerHTML':text,'href':'#'});return new_anchor;},transformCTAInput:function(el,form){var form_id=form.getAttribute('id'),existing_el=Y.one('#'+form_id+"-"+el.get("name"));if(!document.all&&!existing_el){el.set("type","hidden");el.set("value","");el.set("id",form_id+"-"+el.getAttribute("name"));}else{el.get('parentNode').removeChild(el);}},appendFormCTAInputs:function(new_inputs,form){var form_id=form.get('id'),new_input,i;for(i in new_inputs){if(new_inputs.hasOwnProperty(i)){new_input=Y.Node.create('<input>');new_input.setAttrs({'id':form_id+'-'+new_inputs[i],'name':new_inputs[i],'type':'hidden'});form.appendChild(new_input);}}},updateHiddenInputValue:function(obj){var cta_name=obj.cta_name,form=obj.elForm,form_id=form.getAttribute('id'),cta_id=form_id+'-'+cta_name,cta_input=Y.one('#'+cta_id);try{cta_input.set('value',obj.cta_value.toLowerCase());}catch(e){Y.log("Error finding cta_input: "+e,"error","FantasyFormEnhancer.updateHiddenInputValue");}},handleCTAClick:function(e,obj){e.preventDefault();var id=e.currentTarget.get('id'),isDisabled=Y.one('#'+id).hasClass(this.ext+"-cta-disabled"),cta_name=obj.cta_name,form=obj.elForm,form_id=form.getAttribute('id'),cta_type=obj.cta_type;if(isDisabled){return false;}
try{switch(cta_type){case"reset":if(Y.Fantasy.FantasyFormEnhancer.fireFormReset(form_id,obj)){return true;}
break;case"button":if(Y.Fantasy.FantasyFormEnhancer.fireFormButton(form_id,obj)){return true;}
break;case"submit":Y.Fantasy.FantasyFormEnhancer.updateHiddenInputValue(obj);if(Y.Fantasy.FantasyFormEnhancer.fireFormSubmit(form_id,obj)){return true;}
break;default:Y.log("Executing default case in handleCTAClick. This may be unintentional.","warning","FantasyFormEnhancer");Y.Fantasy.FantasyFormEnhancer.updateHiddenInputValue(obj);if(Y.Fantasy.FantasyFormEnhancer.fireFormSubmit(form_id,obj)){form.submit();return true;}
else{return false;}}}catch(e){Y.log("Error in handleCTAClick: "+e,"error","Fantasy.FantasyFormEnhancer.handleCTAClick");}},handleFormKeyup:function(e,obj){var target=e.target,form=obj.elForm,form_id=form.get('id'),keycode=e.charCode;if(keycode===13){Y.Fantasy.FantasyFormEnhancer.updateHiddenInputValue(obj);if(Y.Fantasy.FantasyFormEnhancer.fireFormSubmit(form_id,obj)){form.submit();return true;}}
return false;},fireFormSubmit:function(form_id,obj){return this.fireFormCustomEvent(form_id,obj,"submit");},fireFormReset:function(form_id,obj){return this.fireFormCustomEvent(form_id,obj,"reset");},fireFormButton:function(form_id,obj){return this.fireFormCustomEvent(form_id,obj,"button");},fireFormCustomEvent:function(form_id,obj,evt){var success=true;if(this.formEvtMap[form_id]&&this.formEvtMap[form_id][evt]){success=this.fire(evt,{form:Y.one('#'+form_id)});}
return success;}};Y.augment(FantasyFormEnhancer,Y.EventTarget,true,null,{emitFacade:true});Y.Fantasy.FantasyFormEnhancer=new FantasyFormEnhancer();},"0.1",{"requires":['event','event-custom']});YUI.add('node-event-touch',function(Y){var ua=navigator.userAgent.toLowerCase();var GESTURE_CHECK='ongesturestart';function isTouchDevice(){var el=document.createElement('div');el.setAttribute(GESTURE_CHECK,'return;');if(typeof el[GESTURE_CHECK]=="function"){return true;}else{return false;}}
var bb="blackberry",is_blackberry=function(){if(ua.search(bb)>-1){return 1;}
return 0;}(),supportsTouch=isTouchDevice();Y.mix(Y.UA,{webkitTouch:supportsTouch,blackberry:is_blackberry});if(Y.UA.webkitTouch){Y.mix(Y.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,gesturestart:1,gesturechange:1,gestureend:1});}},'3.1.1',{requires:['node-base']});